<!doctype html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <img src="webpage_decor/witchadvisor_logo_purpletransparent.png" alt="WitchAdvisor" width="1034" height="241">
    <title>WitchAdvisor Supernatural Map</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <!-- Bootstrap Stuff -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
            integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
            integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
            crossorigin="anonymous"></script>
    <!--Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin=""/>
    <!--Leaflet Stuff -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <style>
        html, body {
            height: 100%;
            background-color: #b9aec2;
            padding-left: 20px;
            padding-right: 20px;
            padding-top: 5px;
            padding-bottom: 20px;
        }

        h1, p {
            color: #2b052b;
        }

        #map {
            height: 90%;
            width: 75%;
            float: left;
        }

    </style>
</head>
<body>
<h1>Supernatural Map</h1>
<div id="map"></div>
<p align="right">This interactive map collates Rumours and Intrigues of the Hidden World for your Edification. Simply click on a location Pin to find out the Machinations of the Creatures of the Night, the Unseen Workings of the Wild Ones, and the Cryptic Moves of Power. Currently only available in Southampton.</p>
<p>The map links up generated supernatural facts linked to a database of British placenames, natural features and public houses. The facts are generated to be relevant to the specific kinds of places.</p>



<script>

    var map = L.map('map').setView([50.926997, -1.387411], 12);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    fetch('286places.json')
        .then(response => response.json())
        .then(function (locations) {
            for (const location of locations) {
                console.log(location)
                L.marker([location.lat, location.long]).addTo(map)
                    .bindPopup(`<h4>${location.place}</h4><br>${location.fact}`)
                    .openPopup()
            }
        })



</script>


</body>
</html>
